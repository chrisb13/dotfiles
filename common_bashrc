#add home to cdpath
CDPATH=$CDPATH:~/

#prompt stuff
#function parse git branch
#function parse_git_branch {
  #ref=$(git symbolic-ref HEAD 2> /dev/null) || return
    #echo "("${ref#refs/heads/}")"
#}

# Only load Liquid Prompt in interactive shells, not from a script or from scp
[[ $- = *i* ]] && source ~/.vim/liquidprompt/liquidprompt

#cb added
set -o vi

#colorscheme solarised for bash shell
export TERM="xterm-256color"

#chris' alias
set -o vi
alias ll='ls -alF'
alias lsfol='ls -d */'
alias la='ls -A'
alias l='ls -CF'
alias u='cd ..'
alias c='clear'
alias edprof='vi ~/.vim/common_bashrc'
alias edsnip='vi ~/.vim/UltiSnips/python.snippets'
alias edvim='vi ~/.vimrc'
alias runprof='. ~/.bashrc'
#alias top='top -M'
alias temp='mkdir ~/temp/ ; cd ~/temp/'

#vim
alias vi='vim -O'
alias hvim='vim scp://z3457920@squall.ccrc.unsw.edu.au//home/z3457920/hdrive/repos/cms_analysis/'
alias hdrivevim='vim scp://z3457920@squall.ccrc.unsw.edu.au//home/z3457920/hdrive/repos/cms_analysis/'
alias vimhdrive='vim scp://z3457920@squall.ccrc.unsw.edu.au//home/z3457920/hdrive/repos/cms_analysis/'
alias ncivi='vim scp://cyb561@raijin.nci.org.au//home/561/cyb561/repos/scripts_not_in_repo/'
alias ncicdftools='vim scp://cyb561@raijin.nci.org.au//short/e14/cyb561/cdftools3/'
alias hdrive='vim scp://z3457920@squall.ccrc.unsw.edu.au//home/z3457920/hdrive/repos/cms_analysis/'
alias sniped='vi ~/.vim/UltiSnips/python.snippets'
alias v='cd ~/.vim/'
alias updatesubmodvim='git submodule foreach git pull origin master'
alias getnewsubmodsvim='git submodule update --init --recursive'

alias helloworld='echo "hello"'

#git alias
alias gittrack='git ls-tree --full-tree -r HEAD'
alias gitb='git branch -a --color=auto'

#machines
alias typ='ssh -X z3457920@typhoon.ccrc.unsw.edu.au'
alias t='ssh -X z3457920@typhoon.ccrc.unsw.edu.au'
alias hurricane='ssh -X z3457920@hurricane.ccrc.unsw.edu.au'
alias hurri='ssh -X z3457920@hurricane.ccrc.unsw.edu.au'
alias cyc='ssh -X z3457920@cyclone.ccrc.unsw.edu.au'
alias katana='ssh -X z3457920@katana.science.unsw.edu.au'
alias k='ssh -X z3457920@katana.science.unsw.edu.au'
alias tensor='ssh -X z3457920@tensor.maths.unsw.edu.au'
alias adrift='ssh -X chris@115.146.86.89'
alias katint='qsub -I -l nodes=1:ppn=1,vmem=20gb,walltime=1:00:00'
alias s='ssh -X z3457920@squall.ccrc.unsw.edu.au'
alias nci='ssh -X cyb561@raijin1.nci.org.au'
alias md='ssh -X cyb561@dc-dm3.nci.org.au'  #been decomissioned, well not quite!
#alias md='ssh -X cyb561@dm1.nci.org.au'
alias maelstrom='ssh -X z3457920@maelstrom.ccrc.unsw.edu.au'
alias m='ssh -X z3457920@maelstrom.ccrc.unsw.edu.au'
alias monsoon='ssh -X z3457920@monsoon.ccrc.unsw.edu.au'
alias imp='ssh -X cbull@login.cx1.hpc.ic.ac.uk'

alias ip='ipython --pylab'

alias fbash='LP_ENABLE_TEMP=1; LP_ENABLE_JOBS=1; LP_ENABLE_BATT=1; LP_ENABLE_LOAD=1; LP_ENABLE_GIT=1;LP_ENABLE_SVN=1;LP_ENABLE_HG=1;LP_ENABLE_BZR=1;LP_ENABLE_FOSSIL=1;LP_ENABLE_VCS_ROOT=1'
alias giton='LP_ENABLE_GIT=1'

# some more ls aliases
case $(hostname) in
    katana.science.unsw.edu.au) 
        module load hdf5           
        module load ncview
        module load netcdf/3.6.3-intel 
        #module load netcdf
        module load intel
        module load matlab/2011b
        module load python
        module load proj
        module load cdo
        alias qint='qsub -I -l nodes=1:ppn=1,vmem=15gb,walltime=2:00:00'
        alias qme='qstat -nru $USER'
        alias qme2='qstat | grep z3457920'
        alias pyk='source ~/env/katana_env/bin/activate'   #for katana 
        alias ps='export PYTHONPATH=/srv/scratch/z3457920/anaconda/pkgs;export PATH=/srv/scratch/z3457920/anaconda/bin:$PATH;source activate root'
        ;;
    squall.ccrc.unsw.edu.au|maelstrom.ccrc.unsw.edu.au|monsoon.ccrc.unsw.edu.au)
        alias open='nautilus . &'
        #alias v='vimx'
        alias mkmov='python ~/hdrive/repos/mkmov/mkmov.py '
        alias vi='vimx'
        alias vim='vimx'
        alias psv='module load geos; module load perl/5.18.2;module load gdal;source ~/env/newstorm_env/bin/activate'
        alias ps='export PATH=/home/z3457920/anaconda/bin:$PATH;source activate root'
        alias topme='top -u z3457920'
        alias pyt='source ~/env/my_env/bin/activate'  #for storm servers
        module load hdf5               #for new storm servers
        module load ncview
        module load netcdf/4.2.1-intel
        #module load netcdf
        module load intel
        module load matlab/2011b
        module load python
        module load proj
        module load geos
        module load vim/7.4
        module load cdo

        #load anaconda on login...
        export PATH=/home/z3457920/anaconda/bin:$PATH;source activate root
        cd /home/z3457920/hdrive/repos/nemo/nemo_analysis/diagnostics
        ;;
    ccrc165) 
        # enable programmable completion features (you don't need to enable
        # this, if it's already enabled in /etc/bash.bashrc and /etc/profile
        # sources /etc/bash.bashrc).
        if [ -f /etc/bash_completion ] && ! shopt -oq posix; then
            . /etc/bash_completion
        fi
        source ~/.fzf.bash
        alias open='dolphin . &'
        #alias vi='vim'
        
        alias eac2='cd /srv/ccrc/data48/z3457920/20160518_EACextention/'
        #turned off b/c I've started to use anaconda more...
        #alias ps='source ~/env/ccrc_env/bin/activate'
        alias ps='export PATH="/home/nfs/z3457920/anaconda/bin:$PATH";source activate root'
        alias ps3='export PATH="/home/nfs/z3457920/anaconda3/bin:$PATH";source activate root'
        alias fixdesk='kstart plasma-desktop &'
        alias checkh='mount | grep hdrive'
        alias makeeac='cd /home/nfs/z3457920/hdrive/repos/nemo/nemo_analysis/diagnostics;python makepaper.py ; /srv/ccrc/data42/z3457920/20151012_eac_sep_dynamics/analysis/paperfigsdoc/copyplots.sh'
        alias makenonz='cd /home/nfs/z3457920/hdrive/repos/nemo/nemo_analysis/diagnostics;python 20160804_EAC_NoNZ_makepaper.py; /srv/ccrc/data48/z3457920/20160804_EAC_NoNZ/analysis/paperfigsdoc/copyplots.sh'
        alias imgtrkr='python ~/hdrive/repos/imgtrkr/main.py '
        alias jekyllgo='bundle exec jekyll build; bundle exec jekyll serve --watch'  
        export PATH="~/cmake-3.3.2/bin:$PATH"
        alias mkmov='python /home/nfs/z3457920/hdrive/repos/mkmov/mkmov.py '
        module load ncview
        ;;
    ubuntudesktop) 
        #chris home desktop dual boot
        source ~/myenv/bin/activate
        alias grabplots='rsync -avz z3457920@squall.ccrc.unsw.edu.au:/srv/ccrc/data32/z3457920/leeuwincurrent2/cookiecutting07/plots/depint/ ~/plotscratch/'
        alias open='nautilus .'
        ;;
    chris-VirtualBox2)
        #chris home laptop 
        alias r='cd ~/codescratch/cms_analysis/hp_validation/'
        alias mkmov='python ~/codescratch/mkmov/mkmov.py '
        alias open='pcmanfm'
        alias fixinternet='sudo /etc/init.d/networking restart'
        alias mountwin='/home/chris/.vim/bash/yoga_fixshortcuts.sh'
        #aliases to wrap the vim functions
        alias vs='vimstorm '
        alias vn='vimnci '
        export PATH=/home/chris/anaconda/bin:$PATH

        alias sFour='cd /media/chris/sFour/'
        alias r='cd ~/codescratch/nemo_analysis/diagnostics/'
        alias ps='source activate root'
        #for Jekyll website
        alias jekyllgo='bundle exec jekyll build; bundle exec jekyll serve --watch'  
        alias web='cd ~/website/'  
        alias bpi='ssh -X bananapi@192.168.1.200'
        alias text='gedit '
        alias ccrc='ssh -X z3457920@ccrc165.ccrc.unsw.edu.au'
        alias nemo='vim scp://z3457920@monsoon.ccrc.unsw.edu.au//home/z3457920/hdrive/repos/nemo/nemo_analysis/diagnostics/'
        ;;
    chris-DeskVirtualBox)
        #chris home desktop -- don't really use this machine so mostly redundant
        alias bpi='ssh -X bananapi@192.168.1.200'
        # added by Anaconda 2.3.0 installer
        alias ps='source activate root'
        export PATH="/home/chris/anaconda/bin:$PATH"
        alias jekyllgo='bundle exec jekyll build; bundle exec jekyll serve --watch'  
        alias open='nautilus .'
        alias text='gedit '
        ;;
    chris-VirtualBoxHome)
        #chris home desktop
        alias bpi='ssh -X bananapi@192.168.1.200'
        # added by Anaconda 2.3.0 installer
        alias ps='source activate root'
        export PATH="/home/chris/anaconda2/bin:$PATH"
        alias jekyllgo='bundle exec jekyll build; bundle exec jekyll serve --watch'  
        alias open='nautilus .'
        alias text='gedit '
        alias ccrc='ssh -X z3457920@ccrc165.ccrc.unsw.edu.au'
        alias nemo='vim scp://z3457920@monsoon.ccrc.unsw.edu.au//home/z3457920/hdrive/repos/nemo/nemo_analysis/diagnostics/'
        alias vs='vimstorm '
        alias vn='vimnci '
        alias mountwin='/home/chris/.vim/bash/homepc_fixshortcuts.sh'
        ;;
esac

# a case will only be run once (I think) so this needs to be  a seperate block of cases..
case $(hostname) in
    katana.science.unsw.edu.au|ccrc165|squall.ccrc.unsw.edu.au|maelstrom.ccrc.unsw.edu.au|monsoon.ccrc.unsw.edu.au)
        #folders
        alias cbd='cd /srv/ccrc/data23/z3457920/leeuwincurrent/'
        alias cbd2='cd /srv/ccrc/data32/z3457920/leeuwincurrent2/'
        alias cbd3='cd /srv/ccrc/data32/z3457920/leeuwincurrent3/'
        alias cbd4='cd /srv/ccrc/data42/z3457920/'
        alias cbd5='cd /srv/ccrc/data48/z3457920/'
        alias rw0='cd /srv/ccrc/data32/z3457920/RawData/NEMO/'
        alias rw1='cd /srv/ccrc/data42/z3457920/RawData/NEMO/'
        alias rw2='cd /srv/ccrc/data48/z3457920/RawData/NEMO/'
        alias nonz='cd /srv/ccrc/data48/z3457920/20160804_EAC_NoNZ/analysis/'
        alias eac='cd /srv/ccrc/data42/z3457920/20151012_eac_sep_dynamics/analysis/'
        alias eac2='cd /srv/ccrc/data48/z3457920/20160518_EACextention/'
        alias now1='cd /srv/ccrc/data34/z3045790/nemo/cordex24_1d_BILAPLACIAN' #nico now low res
        alias now2='cd /srv/ccrc/data34/z3045790/nemo/cordex24_nest8_1d_BILAPLACIAN' #nico high low res
        alias r='cd ~/hdrive/repos/'
        alias nemo='cd ~/hdrive/repos/nemo/nemo_analysis/diagnostics/'
        alias nemoc='cd ~/hdrive/repos/nemo/nemo_analysis/configs/'
        alias p='cd ~/hdrive/repos/cms_analysis/papers/20141202_leeuwincurrent'
        alias sa='cd ~/hdrive/repos/swissarmy/'
        ;;
esac
