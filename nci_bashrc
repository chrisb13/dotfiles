#
#  Default initial .bashrc for the ac.  
#
#  Much of your environment should be setup in your .profile or
#  .bash_profile file.  The environment configured there will be
#  inherited by subshells, scripts, batch job etc.  This file 
#  (.bashrc) should only be used to define aliases, functions and, 
#  where necessary, terminal settings.  By default this file will 
#  be sourced for every bash shell and script so avoid unnecessary 
#  actions.  
#
#  See your .profile file for examples of how to add paths to 
#  software in your environment.
#  See http://nf.nci.org.au/facilities/software/modules.php
#  for instructions on how to set your environment to use specific
#  software packages.
#
#  $Id: default.bashrc,v 1.3 2008/12/18 00:08:09 dbs900 Exp $
#

#  Avoid going through here more than once in a shell

[ -n "$nf_bashrc_sourced" ] && return


#  Source global definitions to get the module command defined.
#  If you remove this from your file and/or you reset the BASH_ENV (or
#  ENV) variables,  you risk getting "module command not found"
#  errors from batch jobs.

if [ -f /etc/bashrc ]; then
    . /etc/bashrc
fi

if [ -n "$PS1" ]; then
##
##  Setup aliases etc for interactive session here
##
##  Any noisy output should go in here.  Output in non-interactive
##  sessions can cause failure. 
##
##  Put any tty settings in here

# echo I am an interactive session, so it is ok to be a bit noisy.
  true
fi

nf_bashrc_sourced=YES

##### NICO's stuff below #####
alias ls='ls --color=auto'
alias lr='ls -lrt'
alias short='cd /short/e14/cyb561/'
alias gdata='cd /g/data1/e14/cyb561/'
alias scratch='cd /g/data3/hh5/tmp/eac_analysis/'
alias eac='cd /g/data3/hh5/tmp/eac_analysis/'
alias whereami='echo `whoami`@raijin.nci.org.au:`pwd`'
alias h='history'
alias nciusage='nci_account -P e14 -p 2015.q4 -v'
alias qs='qstat -u cyb561'
alias nicovi='vim -u NONE '
alias nicovim='vim -u NONE '
## netcdf / fortran library paths for standard netcdf module :
export NC_INC='-I /apps/netcdf/4.2.1.1/include'
export NC_LIB='-L /apps/netcdf/4.2.1.1/lib -lnetcdf -lnetcdff'
## color for xterm :
export TERM="xterm-color"
export CLICOLOR="true"
export LSCOLORS="exfxcxdxbxegedabagacad"

module load nco
module load dot
module load openmpi/1.6.3
module load intel-fc/12.1.9.293
module load intel-cc/12.1.9.293

######################
#  Chris BASHRC....  #
######################

#neds version
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]$(parse_git_branch)\$ '

source ~/.vim/common_bashrc
source ~/.vim/common_bashfunctions

#NCI specific  aliases
alias r='cd ~/repos/scripts_not_in_repo/'
alias vi='~/vim/src/vim'
#alias vi='~/vim2/src/vim'

alias interactive='qsub -I -q express -l ncpus=1,mem=40gb,walltime=12:00:00'
alias start='qsub -I -q express -l ncpus=8,mem=50gb,walltime=12:00:00'

#add xclip to bash path
PATH=$PATH:~/xclip/

module load ncview
module load netcdf

#python module loads..
#module use ~access/modules
#module load pythonlib/iris
#module load pythonlib/basemap

#for anaconda
export PATH=/g/data1/e14/cyb561/anaconda/bin:$PATH
alias ps='source activate root'

#for starting a new nemo simulation
alias clearnemo='rm -vr compress_nemo_?.?[1-9]* run_nemo_?.sh.?[1-9]* production_nemo.?[1-9]* *.nc export_nemo_?.s.?[1-9]* import_nemo_?.s.?[1-9]* timing.output xios_server.exe solver.stat 1_rebuild_restart.f90  rebuild_restart.f90 rebuild_restart.o rebuild_restart 1_rebuild_restart layout.dat ocean.output prod_nemo.db 1_timing.output app.conf 1_ocean.output start_date_duration *.o export_nemo_?.sh import_nemo_?.sh run_nemo_?.sh TMP/ OUTNEMO_*/ 1_namelist namelist time.step 1_time.step nemo.exe'


alias nciusage2='module purge ; module use ~access/modules ; module load ncimonitor ; ncimonitor -P e14 --usage --byuser'

case $(hostname) in
    dc-dm3) 
	# User specific aliases and functions
	cd /massdata/e14/cyb561/now
	LS_COLORS=$LS_COLORS:'di=0;35:' ; export LS_COLORS
        ;;
esac

#Liquid prompt settings for NCI
LP_ENABLE_TEMP=0
LP_ENABLE_JOBS=0 
LP_ENABLE_BATT=0 
LP_ENABLE_LOAD=0 
LP_ENABLE_GIT=0
LP_ENABLE_SVN=0
LP_ENABLE_HG=0
LP_ENABLE_BZR=0
LP_ENABLE_FOSSIL=0
LP_ENABLE_VCS_ROOT=0

