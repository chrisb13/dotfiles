#
#  Default initial .bashrc for the ac.  
#
#  Much of your environment should be setup in your .profile or
#  .bash_profile file.  The environment configured there will be
#  inherited by subshells, scripts, batch job etc.  This file 
#  (.bashrc) should only be used to define aliases, functions and, 
#  where necessary, terminal settings.  By default this file will 
#  be sourced for every bash shell and script so avoid unnecessary 
#  actions.  
#
#  See your .profile file for examples of how to add paths to 
#  software in your environment.
#  See http://nf.nci.org.au/facilities/software/modules.php
#  for instructions on how to set your environment to use specific
#  software packages.
#
#  $Id: default.bashrc,v 1.3 2008/12/18 00:08:09 dbs900 Exp $
#

#  Avoid going through here more than once in a shell

[ -n "$nf_bashrc_sourced" ] && return


#  Source global definitions to get the module command defined.
#  If you remove this from your file and/or you reset the BASH_ENV (or
#  ENV) variables,  you risk getting "module command not found"
#  errors from batch jobs.

if [ -f /etc/bashrc ]; then
    . /etc/bashrc
fi

if [ -n "$PS1" ]; then
##
##  Setup aliases etc for interactive session here
##
##  Any noisy output should go in here.  Output in non-interactive
##  sessions can cause failure. 
##
##  Put any tty settings in here

# echo I am an interactive session, so it is ok to be a bit noisy.
  true
fi

nf_bashrc_sourced=YES

##### NICO's stuff below #####
alias ls='ls --color=auto'
alias lr='ls -lrt'
alias short='cd /short/e14/cyb561/'
alias whereami='echo `whoami`@raijin.nci.org.au:`pwd`'
alias h='history'
alias nci='nci_account -P e14 -p 2015.q3 -v'
alias qs='qstat -u cyb561'
## netcdf / fortran library paths for standard netcdf module :
export NC_INC='-I /apps/netcdf/4.2.1.1/include'
export NC_LIB='-L /apps/netcdf/4.2.1.1/lib -lnetcdf -lnetcdff'
## color for xterm :
export TERM="xterm-color"
export CLICOLOR="true"
export LSCOLORS="exfxcxdxbxegedabagacad"

module load nco
module load dot
module load openmpi/1.6.3
module load intel-fc/12.1.9.293
module load intel-cc/12.1.9.293

######################
#  Chris BASHRC....  #
######################

#prompt stuff
#function parse git branch
function parse_git_branch {
  ref=$(git symbolic-ref HEAD 2> /dev/null) || return
    echo "("${ref#refs/heads/}")"
}

#neds version
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]$(parse_git_branch)\$ '

#netcdf functions
function nc() #file header info ncdump
{
  ncdump -c ${1} | less
}


function ncv() #variable info ncdump
{
  ncdump -v ${2} ${1} | less
}


#chris' alias
alias vi='~/vim/src/vim'
set -o vi
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
alias u='cd ..'
alias c='clear'
alias r='cd ~/repos/scripts_not_in_repo/'
alias edprof='vi ~/.bashrc'
alias edsnip='vi ~/.vim/UltiSnips/python.snippets'
alias edvim='vi ~/.vimrc'
alias runprof='. ~/.bashrc'

#NCI specific  aliases

alias interactive='qsub -I -q express -l ncpus=1,mem=20gb,walltime=5:00:00'

#machines
alias md='ssh -X cyb561@dc-dm3.nci.org.au'

module load ncview
module load netcdf

#python module loads..
#module use ~access/modules
#module load pythonlib/iris
#module load pythonlib/basemap


